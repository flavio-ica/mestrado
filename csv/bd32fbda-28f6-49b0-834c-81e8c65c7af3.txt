24. EARNINGS PER SHARE
The following table set forth the computation for basic and diluted net income (loss) per share of common stock (in thousands, except per share data):
As of September 27, 2019, we had warrants outstanding which were reported as a liability on the consolidated balance sheet. During fiscal years 2019 and 2018, we recorded gains of $0.8 million and $27.6 million, respectively, associated with adjusting the fair value of the warrants, in the Consolidated Statements of Operations primarily as a result of declines in our stock price.
When calculating earnings per share we are required to adjust for the dilutive effect of outstanding common stock equivalents, including adjustment to the numerator for the dilutive effect of contracts that must be settled in common stock. During the fiscal year ended September 27, 2019, we excluded the effects of the warrant gain and the 214,303 of potential shares of common stock issuable upon exercise of warrants as the inclusion would be anti-dilutive.
During the fiscal year ended September 28, 2018, we adjusted the numerator to exclude the warrant gain $27.6 million, and we also adjusted the denominator for the dilutive effect of the incremental warrant shares of 569,667 under the treasury stock method. For the fiscal years 2018, the table above excludes the effects of 375,940 shares of potential shares of common stock issuable upon exercise of stock options, restricted stock and restricted stock units as the inclusion would be anti-dilutive.
The table excludes the effects of 386,552 and 1,877,401 shares for fiscal years 2019 and 2017, respectively, of potential shares of common stock issuable upon exercise of stock options, restricted stock, restricted stock units and warrants as the inclusion would be anti-dilutive.